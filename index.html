<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eFootball League</title>

<style>
body{margin:0;font-family:Arial;background:#f2f2f2}
header{background:linear-gradient(90deg,#37003c,#6a1b9a);color:#fff;padding:14px;text-align:center;font-size:22px}
nav{display:flex;background:#fff}
nav button{flex:1;padding:12px;border:none;background:none;font-size:15px}
nav button.active{color:#6a1b9a;border-bottom:3px solid #6a1b9a;font-weight:bold}

.page{display:none;padding:10px}
.page.active{display:block}

.controls{display:flex;justify-content:space-between;align-items:center;margin:10px 0}

.match{background:#fff;border-radius:10px;padding:10px;margin-bottom:10px;display:flex;align-items:center;justify-content:space-between}
.team{display:flex;align-items:center;width:40%}
.team img{width:26px;margin-right:6px}
.score input{width:36px;font-size:18px;text-align:center}

button.save{background:#2e7d32;color:#fff;padding:10px;border:none;border-radius:8px}
button.reset{background:#c62828;color:#fff;padding:10px;border:none;border-radius:8px}

table{width:100%;border-collapse:collapse;font-size:13px;background:#fff}
th,td{padding:6px;border-bottom:1px solid #ddd;text-align:center}
th{background:#eee}
.form span{padding:2px 5px;border-radius:4px;color:#fff;font-size:11px}
.W{background:#2e7d32}
.D{background:#f9a825}
.L{background:#c62828}
</style>
</head>

<body>

<header>üèÜ eFootball League</header>

<nav>
 <button class="active" onclick="showPage('program')">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</button>
 <button onclick="showPage('table')">‡∏ï‡∏≤‡∏£‡∏≤‡∏á</button>
</nav>

<section id="program" class="page active">
 <div class="controls">
  <button onclick="prevPage()">‚óÄ</button>
  <span id="pageText"></span>
  <button onclick="nextPage()">‚ñ∂</button>
 </div>

 <div id="matches"></div>

 <div class="controls">
  <button class="save" onclick="saveData()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
  <button class="reset" onclick="resetData()">üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
 </div>
</section>

<section id="table" class="page">
 <h3>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3>
 <table id="leagueTable"></table>
</section>

<script>
const teams=[
 {name:"Man United",logo:"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg"},
 {name:"Real Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg"},
 {name:"AC Milan",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg"},
 {name:"Marseille",logo:"https://upload.wikimedia.org/wikipedia/en/2/27/Olympique_Marseille_logo.svg"},
 {name:"Atletico",logo:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg"},
 {name:"Chelsea",logo:"https://upload.wikimedia.org/wikipedia/en/c/cc/Chelsea_FC.svg"}
];

// ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÅ‡∏Ç‡πà‡∏á (‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡∏°‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô)
let fixtures=[];
for(let i=0;i<teams.length;i++){
 for(let j=i+1;j<teams.length;j++){
  fixtures.push({home:teams[i].name,away:teams[j].name,hs:"",as:""});
 }
}
fixtures.sort(()=>Math.random()-0.5);

let page=0, perPage=3;

function render(){
 document.getElementById("pageText").innerText=`‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà ${page+1}/${Math.ceil(fixtures.length/perPage)}`;
 const box=document.getElementById("matches");
 box.innerHTML="";
 fixtures.slice(page*perPage,page*perPage+perPage).forEach(m=>{
  const h=teams.find(t=>t.name===m.home);
  const a=teams.find(t=>t.name===m.away);
  box.innerHTML+=`
   <div class="match">
    <div class="team"><img src="${h.logo}">${h.name}</div>
    <div class="score">
     <input type="number" value="${m.hs}" onchange="m.hs=this.value;updateTable()">
     -
     <input type="number" value="${m.as}" onchange="m.as=this.value;updateTable()">
    </div>
    <div class="team"><img src="${a.logo}">${a.name}</div>
   </div>`;
 });
}

function updateTable(){
 let table={};
 teams.forEach(t=>table[t.name]={p:0,w:0,d:0,l:0,gf:0,ga:0,pts:0,form:[]});

 fixtures.forEach(m=>{
  if(m.hs!=="" && m.as!==""){
   const h=table[m.home], a=table[m.away];
   h.p++; a.p++;
   h.gf+=+m.hs; h.ga+=+m.as;
   a.gf+=+m.as; a.ga+=+m.hs;
   if(+m.hs>+m.as){h.w++;h.pts+=3;h.form.push("W");a.l++;a.form.push("L")}
   else if(+m.hs<+m.as){a.w++;a.pts+=3;a.form.push("W");h.l++;h.form.push("L")}
   else{h.d++;a.d++;h.pts++;a.pts++;h.form.push("D");a.form.push("D")}
  }
 });

 let arr=Object.entries(table).sort((a,b)=>b[1].pts-a[1].pts || (b[1].gf-b[1].ga)-(a[1].gf-a[1].ga));
 let html="<tr><th>‡∏ó‡∏µ‡∏°</th><th>P</th><th>GD</th><th>PTS</th><th>‡∏ü‡∏≠‡∏£‡πå‡∏° 5 ‡∏ô‡∏±‡∏î</th></tr>";
 arr.forEach(([name,t])=>{
  html+=`<tr>
   <td>${name}</td>
   <td>${t.p}</td>
   <td>${t.gf-t.ga}</td>
   <td>${t.pts}</td>
   <td class="form">${t.form.slice(-5).map(f=>`<span class="${f}">${f}</span>`).join(" ")}</td>
  </tr>`;
 });
 document.getElementById("leagueTable").innerHTML=html;
}

function prevPage(){if(page>0){page--;render()}}
function nextPage(){if((page+1)*perPage<fixtures.length){page++;render()}}
function showPage(id){
 document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
 document.getElementById(id).classList.add('active');
 document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
 event.target.classList.add('active');
}

function saveData(){localStorage.setItem("league",JSON.stringify(fixtures));alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß")}
function resetData(){if(confirm("‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")){localStorage.removeItem("league");location.reload()}}

const saved=localStorage.getItem("league");
if(saved) fixtures=JSON.parse(saved);

render(); updateTable();
</script>

</body>
</html>
