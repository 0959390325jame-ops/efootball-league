<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>eFootball Premier League</title>

<style>
body{margin:0;font-family:Arial;background:#f4f4f4}
header{
 background:linear-gradient(90deg,#37003c,#6a1b9a);
 color:#fff;padding:15px;text-align:center;
 font-size:20px;font-weight:bold
}
.container{padding:15px;max-width:1000px;margin:auto}
h2{margin-top:25px}

/* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô */
table{width:100%;border-collapse:collapse;background:#fff}
th,td{padding:8px;text-align:center;border-bottom:1px solid #ddd}
th{background:#37003c;color:#fff}
.team{display:flex;align-items:center;gap:8px}
.team img{width:22px}

/* ‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå */
.leader{background:#e1bee7;font-weight:bold}
.relegation{background:#ffcdd2}

/* ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° */
.match{
 background:#fff;padding:10px;margin-bottom:10px;
 border-radius:8px;display:flex;
 align-items:center;justify-content:space-between;gap:8px
}
.score input{
 width:40px;text-align:center;font-size:16px
}
button{
 background:#00c853;color:#fff;border:none;
 padding:6px 10px;border-radius:5px;cursor:pointer
}
button:disabled{background:#999}
.nav{
 display:flex;justify-content:space-between;margin:15px 0
}
.reset{background:#d50000}
</style>
</head>

<body>

<header>üèÜ eFootball Premier League</header>

<div class="container">

<button class="reset" onclick="resetLeague()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•</button>

<h2>üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
<table>
<thead>
<tr>
<th>#</th><th>‡∏ó‡∏µ‡∏°</th><th>P</th><th>W</th><th>D</th><th>L</th>
<th>GF</th><th>GA</th><th>GD</th><th>Pts</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>

<h2>‚öΩ ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h2>

<div class="nav">
 <button onclick="prevPage()">‚óÄ ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
 <div id="pageInfo"></div>
 <button onclick="nextPage()">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚ñ∂</button>
</div>

<div id="fixtures"></div>

</div>

<script>
const teams=[
 {name:"Real Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg"},
 {name:"Manchester United",logo:"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg"},
 {name:"Marseille",logo:"https://upload.wikimedia.org/wikipedia/en/2/27/Olympique_Marseille_logo.svg"},
 {name:"Atletico Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg"},
 {name:"AC Milan",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg"},
 {name:"Paris Saint-Germain",logo:"https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg"}
];

// ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å localStorage
let table = JSON.parse(localStorage.getItem("table")) ||
teams.map(t=>({...t,P:0,W:0,D:0,L:0,GF:0,GA:0,GD:0,PTS:0}));

const fixtures=[
 [0,1],[1,0],[0,2],[2,0],[0,3],[3,0],
 [1,2],[2,1],[1,3],[3,1],[1,4],[4,1],
 [2,3],[3,2],[2,4],[4,2],[2,5],[5,2]
];

let played = JSON.parse(localStorage.getItem("played")) ||
new Array(fixtures.length).fill(false);

let page = JSON.parse(localStorage.getItem("page")) || 0;
const perPage=6;

function saveData(){
 localStorage.setItem("table",JSON.stringify(table));
 localStorage.setItem("played",JSON.stringify(played));
 localStorage.setItem("page",page);
}

function renderTable(){
 const body=document.getElementById("tableBody");
 body.innerHTML="";
 table.sort((a,b)=>b.PTS-a.PTS||b.GD-a.GD||b.GF-a.GF);
 table.forEach((t,i)=>{
  let cls=i===0?"leader":i>=4?"relegation":"";
  body.innerHTML+=`
  <tr class="${cls}">
   <td>${i+1}</td>
   <td class="team"><img src="${t.logo}">${t.name}</td>
   <td>${t.P}</td><td>${t.W}</td><td>${t.D}</td><td>${t.L}</td>
   <td>${t.GF}</td><td>${t.GA}</td><td>${t.GD}</td>
   <td>${t.PTS}</td>
  </tr>`;
 });
}

function renderFixtures(){
 const box=document.getElementById("fixtures");
 box.innerHTML="";
 const start=page*perPage;
 const end=Math.min(start+perPage,fixtures.length);

 document.getElementById("pageInfo").innerText=
  `‡∏´‡∏ô‡πâ‡∏≤ ${page+1} / ${Math.ceil(fixtures.length/perPage)}`;

 for(let i=start;i<end;i++){
  const f=fixtures[i];
  box.innerHTML+=`
  <div class="match">
   <div class="team"><img src="${teams[f[0]].logo}">${teams[f[0]].name}</div>
   <div class="score">
    <input type="number" min="0" id="h${i}" ${played[i]?"disabled":""}> -
    <input type="number" min="0" id="a${i}" ${played[i]?"disabled":""}>
   </div>
   <div class="team">${teams[f[1]].name}<img src="${teams[f[1]].logo}"></div>
   <button onclick="saveMatch(${i})" ${played[i]?"disabled":""}>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
  </div>`;
 }
}

function saveMatch(i){
 if(played[i]) return;

 const h=document.getElementById("h"+i).value;
 const a=document.getElementById("a"+i).value;
 if(h===""||a==="") return;

 const home=table[fixtures[i][0]];
 const away=table[fixtures[i][1]];

 home.P++;away.P++;
 home.GF+=+h;home.GA+=+a;
 away.GF+=+a;away.GA+=+h;

 if(h>a){home.W++;home.PTS+=3;away.L++}
 else if(h<a){away.W++;away.PTS+=3;home.L++}
 else{home.D++;away.D++;home.PTS++;away.PTS++}

 home.GD=home.GF-home.GA;
 away.GD=away.GF-away.GA;

 played[i]=true;
 saveData();
 renderTable();
 renderFixtures();
}

function nextPage(){
 if((page+1)*perPage<fixtures.length){
  page++; saveData(); renderFixtures();
 }
}
function prevPage(){
 if(page>0){
  page--; saveData(); renderFixtures();
 }
}

function resetLeague(){
 if(!confirm("‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")) return;
 localStorage.clear();
 location.reload();
}

renderTable();
renderFixtures();
</script>

</body>
</html>
