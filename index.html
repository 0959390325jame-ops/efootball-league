<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eFootball League</title>

<style>
body{margin:0;font-family:Arial;background:#f3f3f3}
header{background:#37003c;color:#fff;padding:14px;text-align:center;font-size:22px}
nav{display:flex;background:#fff}
nav button{flex:1;padding:12px;border:none;background:none;font-size:15px}
nav button.active{color:#37003c;border-bottom:3px solid #37003c;font-weight:bold}

.page{display:none;padding:10px}
.page.active{display:block}

.controls{display:flex;justify-content:space-between;margin:10px 0}

.match{background:#fff;border-radius:10px;padding:10px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}
.team{display:flex;align-items:center;width:40%}
.team img{width:26px;margin-right:6px}
.score input{width:40px;text-align:center;font-size:16px}
button.save{background:#00c853;color:#fff;border:none;padding:6px 10px;border-radius:6px}
button.reset{background:#d50000;color:#fff;border:none;padding:6px 10px;border-radius:6px}

table{width:100%;background:#fff;border-collapse:collapse;font-size:14px}
th,td{padding:6px;border-bottom:1px solid #ddd;text-align:center}
th{background:#37003c;color:#fff}
.champion{background:#c8e6c9}
.relegation{background:#ffcdd2}
.form span{padding:2px 5px;border-radius:4px;color:#fff;font-size:11px;margin:1px}
.W{background:#2e7d32}.D{background:#f9a825}.L{background:#c62828}
</style>
</head>

<body>

<header>üèÜ eFootball League</header>

<nav>
<button onclick="showPage('fixtures')" class="active">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</button>
<button onclick="showPage('table')">‡∏ï‡∏≤‡∏£‡∏≤‡∏á</button>
<button onclick="showPage('scorer')">Top Scorer</button>
</nav>

<div id="fixtures" class="page active"></div>
<div id="table" class="page"></div>
<div id="scorer" class="page"></div>

<script>
const teams=[
{name:"Real Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg"},
{name:"Manchester United",logo:"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg"},
{name:"Marseille",logo:"https://upload.wikimedia.org/wikipedia/en/1/1d/Olympique_Marseille_logo.svg"},
{name:"Atletico Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg"},
{name:"AC Milan",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg"},
{name:"Paris Saint-Germain",logo:"https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg"}
];

let fixtures=[];
teams.forEach((t,i)=>{
teams.forEach((o,j)=>{
if(i<j){
fixtures.push({h:t,a:o});
fixtures.push({h:o,a:t});
}})});

fixtures.sort(()=>Math.random()-0.5);

let results=JSON.parse(localStorage.getItem("results")||"{}");

function showPage(p){
document.querySelectorAll('.page').forEach(e=>e.classList.remove('active'));
document.getElementById(p).classList.add('active');
document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
event.target.classList.add('active');
if(p==="table")renderTable();
if(p==="scorer")renderScorer();
}

let page=0;
function renderFixtures(){
let html=`<div class="controls">
<button onclick="page--;renderFixtures()">‚óÄ</button>
<div>‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà ${page+1}/${Math.ceil(fixtures.length/3)}</div>
<button onclick="page++;renderFixtures()">‚ñ∂</button>
</div>`;

fixtures.slice(page*3,page*3+3).forEach((m,i)=>{
let id=page*3+i;
let r=results[id]||{};
html+=`
<div class="match">
<div class="team"><img src="${m.h.logo}">${m.h.name}</div>
<div class="score">
<input type="number" id="h${id}" value="${r.h??''}"> -
<input type="number" id="a${id}" value="${r.a??''}">
</div>
<div class="team" style="justify-content:end"><img src="${m.a.logo}">${m.a.name}</div>
<button class="save" onclick="save(${id})">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
</div>`;
});

html+=`<button class="reset" onclick="resetAll()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>`;
document.getElementById("fixtures").innerHTML=html;
}
function save(id){
if(results[id])return alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß");
results[id]={h:+document.getElementById("h"+id).value,a:+document.getElementById("a"+id).value};
localStorage.setItem("results",JSON.stringify(results));
renderFixtures();
}
function resetAll(){
if(confirm("‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")){
results={};
localStorage.removeItem("results");
renderFixtures();
}}
renderFixtures();

function renderTable(){
let stats={};
teams.forEach(t=>stats[t.name]={p:0,w:0,d:0,l:0,gf:0,ga:0,pts:0,form:[]});
Object.keys(results).forEach(k=>{
let m=fixtures[k],r=results[k];
let h=stats[m.h.name],a=stats[m.a.name];
h.p++;a.p++;h.gf+=r.h;h.ga+=r.a;a.gf+=r.a;a.ga+=r.h;
if(r.h>r.a){h.w++;h.pts+=3;h.form.push("W");a.l++;a.form.push("L")}
else if(r.h<r.a){a.w++;a.pts+=3;a.form.push("W");h.l++;h.form.push("L")}
else{h.d++;a.d++;h.pts++;a.pts++;h.form.push("D");a.form.push("D")}
});
let arr=Object.entries(stats).sort((a,b)=>b[1].pts-a[1].pts||((b[1].gf-b[1].ga)-(a[1].gf-a[1].ga)));
let html=`<table><tr>
<th>#</th><th>‡∏ó‡∏µ‡∏°</th><th>P</th><th>W</th><th>D</th><th>L</th>
<th>GF</th><th>GA</th><th>GD</th><th>Pts</th><th>‡∏ü‡∏≠‡∏£‡πå‡∏°</th></tr>`;
arr.forEach((t,i)=>{
let c=i==0?"champion":i>=4?"relegation":"";
html+=`<tr class="${c}">
<td>${i+1}</td><td>${t[0]}</td><td>${t[1].p}</td><td>${t[1].w}</td>
<td>${t[1].d}</td><td>${t[1].l}</td>
<td>${t[1].gf}</td><td>${t[1].ga}</td>
<td>${t[1].gf-t[1].ga}</td><td>${t[1].pts}</td>
<td class="form">${t[1].form.slice(-5).map(f=>`<span class="${f}">${f}</span>`).join("")}</td>
</tr>`;
});
html+="</table>";
document.getElementById("table").innerHTML=html;
}

function renderScorer(){
document.getElementById("scorer").innerHTML=`
<ul>
<li>Mbapp√© (PSG)</li>
<li>Rashford (Man Utd)</li>
<li>Vin√≠cius Jr (Real Madrid)</li>
<li>Giroud (AC Milan)</li>
<li>Griezmann (Atletico)</li>
<li>Aubameyang (Marseille)</li>
</ul>`;
}
</script>

</body>
</html>
