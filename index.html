<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eFootball League</title>

<style>
body{
  margin:0;
  font-family:system-ui;
  background:#f3f3f3;
}
header{
  background:linear-gradient(90deg,#2b003f,#6a1b9a);
  color:#fff;
  padding:14px;
  text-align:center;
  font-size:20px;
  font-weight:bold;
}
nav{
  display:flex;
  background:#fff;
}
nav button{
  flex:1;
  padding:12px;
  border:none;
  font-size:16px;
  background:#fff;
}
nav button.active{
  border-bottom:3px solid #6a1b9a;
  color:#6a1b9a;
  font-weight:bold;
}
.container{padding:12px}
.match{
  background:#fff;
  border-radius:12px;
  padding:10px;
  margin-bottom:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.team{
  display:flex;
  align-items:center;
  gap:6px;
  width:40%;
}
.team img{width:26px}
.score input{
  width:40px;
  text-align:center;
  font-size:16px;
}
.btn{
  padding:8px 12px;
  border:none;
  border-radius:8px;
  color:#fff;
  font-size:14px;
}
.save{background:#2ecc71}
.reset{background:#e74c3c}
table{
  width:100%;
  background:#fff;
  border-radius:12px;
  border-collapse:collapse;
  font-size:14px;
}
th,td{
  padding:6px;
  border-bottom:1px solid #eee;
  text-align:center;
}
th{background:#eee}
.leader{background:#d1f2eb}
.relegation{background:#fdecea}
.form span{
  padding:2px 5px;
  border-radius:4px;
  margin:1px;
  font-size:12px;
}
.W{background:#2ecc71;color:#fff}
.D{background:#f1c40f}
.L{background:#e74c3c;color:#fff}
.controls{
  display:flex;
  justify-content:space-between;
  margin:10px 0;
}
</style>
</head>

<body>

<header>üèÜ eFootball League</header>

<nav>
  <button class="active" onclick="showPage('fixtures')">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</button>
  <button onclick="showPage('table')">‡∏ï‡∏≤‡∏£‡∏≤‡∏á</button>
</nav>

<div class="container">

<!-- ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° -->
<div id="fixtures"></div>

<!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô -->
<div id="table" style="display:none"></div>

<div class="controls">
  <button class="btn reset" onclick="resetAll()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏•‡∏µ‡∏Å</button>
</div>

</div>

<script>
const teams=[
 {name:"Real Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg"},
 {name:"Manchester United",logo:"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg"},
 {name:"Marseille",logo:"https://upload.wikimedia.org/wikipedia/en/2/27/Olympique_Marseille_logo.svg"},
 {name:"Atletico Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg"},
 {name:"AC Milan",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg"},
 {name:"Paris Saint-Germain",logo:"https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg"}
];

let matches=[];
let page=0;

function generateMatches(){
 teams.forEach((a,i)=>{
  teams.forEach((b,j)=>{
   if(i!==j){
    matches.push({home:a,away:b,score:null});
   }
  });
 });
 matches=matches.sort(()=>Math.random()-0.5);
}
generateMatches();

function renderFixtures(){
 let html="";
 let start=page*3;
 matches.slice(start,start+3).forEach((m,i)=>{
  html+=`
  <div class="match">
    <div class="team"><img src="${m.home.logo}">${m.home.name}</div>
    <div class="score">
      <input id="h${start+i}"> -
      <input id="a${start+i}">
    </div>
    <div class="team"><img src="${m.away.logo}">${m.away.name}</div>
  </div>`;
 });
 html+=`
 <div class="controls">
  <button class="btn save" onclick="saveScores()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
 </div>`;
 document.getElementById("fixtures").innerHTML=html;
}

function saveScores(){
 let start=page*3;
 matches.slice(start,start+3).forEach((m,i)=>{
  let h=document.getElementById("h"+(start+i)).value;
  let a=document.getElementById("a"+(start+i)).value;
  if(h!=="" && a!=="") m.score=[+h,+a];
 });
 localStorage.setItem("league",JSON.stringify(matches));
 renderTable();
}

function renderTable(){
 let stats={};
 teams.forEach(t=>{
  stats[t.name]={P:0,GD:0,PTS:0,form:[]};
 });
 matches.forEach(m=>{
  if(!m.score) return;
  let [h,a]=m.score;
  let H=stats[m.home.name];
  let A=stats[m.away.name];
  H.P++;A.P++;
  H.GD+=h-a;A.GD+=a-h;
  if(h>a){H.PTS+=3;H.form.push("W");A.form.push("L")}
  else if(h<a){A.PTS+=3;A.form.push("W");H.form.push("L")}
  else{H.PTS++;A.PTS++;H.form.push("D");A.form.push("D")}
 });
 let arr=Object.entries(stats).sort((a,b)=>b[1].PTS-a[1].PTS);
 let html=`<table><tr><th>‡∏ó‡∏µ‡∏°</th><th>P</th><th>GD</th><th>PTS</th><th>‡∏ü‡∏≠‡∏£‡πå‡∏° 5 ‡∏ô‡∏±‡∏î</th></tr>`;
 arr.forEach((t,i)=>{
  let cls=i==0?"leader":i>=4?"relegation":"";
  html+=`<tr class="${cls}">
   <td>${t[0]}</td>
   <td>${t[1].P}</td>
   <td>${t[1].GD}</td>
   <td>${t[1].PTS}</td>
   <td class="form">${t[1].form.slice(-5).map(f=>`<span class="${f}">${f}</span>`).join("")}</td>
  </tr>`;
 });
 html+=`</table>`;
 document.getElementById("table").innerHTML=html;
}

function showPage(p){
 document.getElementById("fixtures").style.display=p=="fixtures"?"block":"none";
 document.getElementById("table").style.display=p=="table"?"block":"none";
 document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
 event.target.classList.add("active");
}

function resetAll(){
 if(confirm("‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏•‡∏µ‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")){
  localStorage.clear();
  location.reload();
 }
}

renderFixtures();
renderTable();
</script>

</body>
</html>
