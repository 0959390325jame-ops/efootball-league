<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eFootball League</title>

<style>
body{margin:0;font-family:Arial;background:#f2f2f2}
header{background:linear-gradient(90deg,#4a004e,#8e2de2);color:#fff;padding:14px;text-align:center;font-size:22px}
nav{display:flex;background:#fff}
nav button{flex:1;border:none;background:none;padding:12px;font-size:15px}
nav button.active{border-bottom:4px solid purple;color:purple;font-weight:bold}
.page{display:none;padding:10px}
.page.active{display:block}

table{width:100%;border-collapse:collapse;background:#fff;font-size:14px}
th{background:#5a0066;color:#fff;padding:8px}
td{padding:8px;border-bottom:1px solid #ddd;text-align:center}

.team{display:flex;align-items:center;gap:6px}
.team img{width:22px;height:22px}

input.score{width:35px;text-align:center}

button.save{background:#16a34a;color:#fff;border:none;padding:6px 10px;border-radius:6px}
button.reset{background:#dc2626;color:#fff;border:none;padding:10px;border-radius:8px;width:100%;margin-top:10px}

.champ{background:#d1fae5}
.relegate{background:#fee2e2}
</style>
</head>

<body>

<header>üèÜ eFootball League</header>

<nav>
<button class="active" onclick="showPage('program')">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</button>
<button onclick="showPage('table')">‡∏ï‡∏≤‡∏£‡∏≤‡∏á</button>
<button onclick="showPage('scorer')">Top Scorer</button>
</nav>

<!-- PROGRAM -->
<div id="program" class="page active">
<table>
<thead>
<tr>
<th>‡πÄ‡∏´‡∏¢‡πâ‡∏≤</th>
<th>‡∏™‡∏Å‡∏≠‡∏£‡πå</th>
<th>‡πÄ‡∏¢‡∏∑‡∏≠‡∏ô</th>
<th>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</th>
</tr>
</thead>
<tbody id="programBody"></tbody>
</table>

<button class="reset" onclick="resetAll()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
</div>

<!-- TABLE -->
<div id="table" class="page">
<table>
<thead>
<tr>
<th>#</th><th>‡∏ó‡∏µ‡∏°</th><th>P</th><th>GD</th><th>Pts</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>
</div>

<!-- TOP SCORER -->
<div id="scorer" class="page">
<p>‚úçÔ∏è ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Top Scorer ‡πÄ‡∏≠‡∏á</p>
<input id="scorerInput" placeholder="‡πÄ‡∏ä‡πà‡∏ô Ronaldo - 8 ‡∏õ‡∏£‡∏∞‡∏ï‡∏π">
<button class="save" onclick="saveScorer()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
<p id="scorerShow"></p>
</div>

<script>
const teams=[
{name:"Real Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg"},
{name:"Man United",logo:"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg"},
{name:"Marseille",logo:"https://upload.wikimedia.org/wikipedia/en/2/27/Olympique_Marseille_logo.svg"},
{name:"Atletico",logo:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg"},
{name:"AC Milan",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg"},
{name:"PSG",logo:"https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg"}
];

let table=JSON.parse(localStorage.getItem("table")) ||
teams.map(t=>({...t,P:0,GD:0,PTS:0}));

/* ===== ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° 3 ‡∏£‡∏≠‡∏ö ===== */
function generateMatches(){
let base=[];
for(let i=0;i<teams.length;i++){
for(let j=i+1;j<teams.length;j++){
base.push([teams[i].name,teams[j].name]);
base.push([teams[j].name,teams[i].name]);
}
}
for(let i=0;i<teams.length;i++){
let r=teams[Math.floor(Math.random()*teams.length)].name;
if(r!==teams[i].name){
Math.random()>0.5 ? base.push([teams[i].name,r]) : base.push([r,teams[i].name]);
}
}
return base;
}

let matches=JSON.parse(localStorage.getItem("matches")) || generateMatches();
localStorage.setItem("matches",JSON.stringify(matches));

function renderProgram(){
const body=document.getElementById("programBody");
body.innerHTML="";
matches.forEach((m,i)=>{
const h=teams.find(t=>t.name===m[0]);
const a=teams.find(t=>t.name===m[1]);
body.innerHTML+=`
<tr>
<td class="team"><img src="${h.logo}">${h.name}</td>
<td>
<input class="score" id="h${i}"> -
<input class="score" id="a${i}">
</td>
<td class="team"><img src="${a.logo}">${a.name}</td>
<td><button class="save" onclick="saveMatch(${i})">‚úî</button></td>
</tr>`;
});
}

function saveMatch(i){
const hg=parseInt(document.getElementById("h"+i).value);
const ag=parseInt(document.getElementById("a"+i).value);
if(isNaN(hg)||isNaN(ag)) return;

const h=table.find(t=>t.name===matches[i][0]);
const a=table.find(t=>t.name===matches[i][1]);

h.P++; a.P++;
h.GD+=hg-ag; a.GD+=ag-hg;

if(hg>ag) h.PTS+=3;
else if(hg<ag) a.PTS+=3;
else {h.PTS++;a.PTS++;}

localStorage.setItem("table",JSON.stringify(table));
renderTable();
}

function renderTable(){
const body=document.getElementById("tableBody");
body.innerHTML="";
table.sort((a,b)=>b.PTS-a.PTS||b.GD-a.GD);
table.forEach((t,i)=>{
body.innerHTML+=`
<tr class="${i==0?'champ':i>=4?'relegate':''}">
<td>${i+1}</td>
<td class="team"><img src="${t.logo}">${t.name}</td>
<td>${t.P}</td>
<td>${t.GD}</td>
<td>${t.PTS}</td>
</tr>`;
});
}

function resetAll(){
localStorage.clear();
location.reload();
}

/* Top Scorer */
function saveScorer(){
localStorage.setItem("scorer",document.getElementById("scorerInput").value);
loadScorer();
}
function loadScorer(){
document.getElementById("scorerShow").innerText=localStorage.getItem("scorer")||"";
}

function showPage(p){
document.querySelectorAll(".page").forEach(x=>x.classList.remove("active"));
document.getElementById(p).classList.add("active");
document.querySelectorAll("nav button").forEach(x=>x.classList.remove("active"));
event.target.classList.add("active");
}

renderProgram();
renderTable();
loadScorer();
</script>

</body>
</html>
