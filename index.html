<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Premier League Style League</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:#f5f5f5
}

/* ===== HEADER ===== */
header{
  background:#37003c;
  color:#fff;
  padding:18px;
  font-size:22px;
  font-weight:bold;
  text-align:center;
}

/* ===== NAV ===== */
nav{
  display:flex;
  background:#fff;
}
nav button{
  flex:1;
  padding:14px;
  border:none;
  background:#fff;
  font-size:16px;
}
nav button.active{
  border-bottom:4px solid #37003c;
  color:#37003c;
  font-weight:bold;
}

/* ===== SECTIONS ===== */
section{padding:12px}

/* ===== MATCH CARD ===== */
.match{
  background:#fff;
  border-radius:12px;
  padding:12px;
  margin-bottom:10px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.team{
  display:flex;
  align-items:center;
  gap:6px;
  width:38%;
}
.team img{width:26px}

.score input{
  width:44px;
  font-size:16px;
  text-align:center;
}

.save{
  background:#00a650;
  color:#fff;
  border:none;
  padding:6px 12px;
  border-radius:8px;
}

.reset{
  margin-top:12px;
  width:100%;
  background:#c8102e;
  color:#fff;
  border:none;
  padding:14px;
  border-radius:12px;
  font-size:16px;
}

/* ===== TABLE ===== */
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
  font-size:14px;
}
th{
  background:#37003c;
  color:#fff;
  padding:10px;
}
td{
  padding:8px;
  border-bottom:1px solid #ddd;
  text-align:center;
}
.teamcell{
  display:flex;
  align-items:center;
  gap:6px;
}
.teamcell img{width:22px}

/* ===== ZONES ===== */
.champion{background:#e6ffe6}
.relegation{background:#ffe6e6}

/* ===== FORM ===== */
.form{
  display:flex;
  gap:3px;
  justify-content:center;
}
.form span{
  width:18px;
  height:18px;
  border-radius:4px;
  color:#fff;
  font-size:12px;
  line-height:18px;
  text-align:center;
}
.W{background:#00a650}
.D{background:#76766f}
.L{background:#c8102e}
</style>
</head>

<body>

<header>Premier League Simulator</header>

<nav>
  <button id="btnFixtures" class="active">Fixtures</button>
  <button id="btnTable">Table</button>
</nav>

<section id="fixtures"></section>
<section id="table" style="display:none"></section>

<script>
/* ===== TEAMS ===== */
const teams=[
"Manchester United","AC Milan","Atletico Madrid",
"Real Madrid","Marseille","Paris SG"
];

const logos={
"Manchester United":"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg",
"AC Milan":"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg",
"Atletico Madrid":"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg",
"Real Madrid":"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg",
"Marseille":"https://upload.wikimedia.org/wikipedia/commons/d/d8/Olympique_Marseille_logo.svg",
"Paris SG":"https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg"
};

/* ===== FIXTURES (3 ROUNDS) ===== */
const fixtures=[
["Manchester United","AC Milan"],["Atletico Madrid","Real Madrid"],["Marseille","Paris SG"],
["Manchester United","Atletico Madrid"],["AC Milan","Marseille"],["Real Madrid","Paris SG"],
["Manchester United","Marseille"],["AC Milan","Real Madrid"],["Atletico Madrid","Paris SG"],
["Manchester United","Real Madrid"],["AC Milan","Paris SG"],["Atletico Madrid","Marseille"],
["Manchester United","Paris SG"],["AC Milan","Atletico Madrid"],["Real Madrid","Marseille"],

["AC Milan","Manchester United"],["Real Madrid","Atletico Madrid"],["Paris SG","Marseille"],
["Atletico Madrid","Manchester United"],["Marseille","AC Milan"],["Paris SG","Real Madrid"],
["Marseille","Manchester United"],["Real Madrid","AC Milan"],["Paris SG","Atletico Madrid"],
["Real Madrid","Manchester United"],["Paris SG","AC Milan"],["Marseille","Atletico Madrid"],
["Paris SG","Manchester United"],["Atletico Madrid","AC Milan"],["Marseille","Real Madrid"],

["Manchester United","AC Milan"],["Atletico Madrid","Real Madrid"],["Paris SG","Marseille"],
["AC Milan","Manchester United"],["Real Madrid","Paris SG"],["Marseille","Atletico Madrid"],
["Manchester United","Real Madrid"],["AC Milan","Paris SG"],["Atletico Madrid","Marseille"],
["Manchester United","Paris SG"],["AC Milan","Atletico Madrid"],["Real Madrid","Marseille"]
];

let results=JSON.parse(localStorage.getItem("results"))||{};

/* ===== FIXTURES ===== */
function renderFixtures(){
  let html="";
  fixtures.forEach((m,i)=>{
    const r=results[i]||{};
    const locked=r.saved;
    html+=`
    <div class="match">
      <div class="team"><img src="${logos[m[0]]}">${m[0]}</div>
      <div class="score">
        <input type="number" min="0" ${locked?"disabled":""} value="${r.h??""}">
        -
        <input type="number" min="0" ${locked?"disabled":""} value="${r.a??""}">
      </div>
      <div class="team"><img src="${logos[m[1]]}">${m[1]}</div>
      ${locked?"":"<button class='save' onclick='saveMatch("+i+")'>Save</button>"}
    </div>`;
  });
  html+=`<button class="reset" onclick="resetAll()">Reset All</button>`;
  fixturesDiv.innerHTML=html;
}

/* ===== SAVE MATCH ===== */
function saveMatch(i){
  const box=document.querySelectorAll(".match")[i];
  const inp=box.querySelectorAll("input");
  if(inp[0].value===""||inp[1].value==="")return;
  results[i]={h:+inp[0].value,a:+inp[1].value,saved:true};
  localStorage.setItem("results",JSON.stringify(results));
  renderFixtures();renderTable();
}

/* ===== RESET ===== */
function resetAll(){
  localStorage.clear();location.reload();
}

/* ===== FORM 5 ===== */
function getForm(team){
  let f=[];
  Object.keys(results).reverse().forEach(i=>{
    if(f.length>=5)return;
    const [h,a]=fixtures[i];
    const r=results[i];
    if(h===team){
      f.push(r.h>r.a?"W":r.h<r.a?"L":"D");
    }
    if(a===team){
      f.push(r.a>r.h?"W":r.a<r.h?"L":"D");
    }
  });
  return f;
}

/* ===== TABLE ===== */
function renderTable(){
  let t={};
  teams.forEach(x=>t[x]={P:0,W:0,D:0,L:0,GF:0,GA:0,PTS:0});
  Object.keys(results).forEach(i=>{
    const [h,a]=fixtures[i];const r=results[i];
    t[h].P++;t[a].P++;
    t[h].GF+=r.h;t[h].GA+=r.a;
    t[a].GF+=r.a;t[a].GA+=r.h;
    if(r.h>r.a){t[h].W++;t[h].PTS+=3;t[a].L++;}
    else if(r.h<r.a){t[a].W++;t[a].PTS+=3;t[h].L++;}
    else{t[h].D++;t[a].D++;t[h].PTS++;t[a].PTS++;}
  });

  let rows=Object.entries(t).sort((a,b)=>{
    if(b[1].PTS!==a[1].PTS)return b[1].PTS-a[1].PTS;
    return (b[1].GF-b[1].GA)-(a[1].GF-a[1].GA);
  });

  let html=`<table>
  <tr><th>#</th><th>Team</th><th>P</th><th>W</th><th>D</th><th>L</th>
  <th>GF</th><th>GA</th><th>GD</th><th>Pts</th><th>Form</th></tr>`;

  rows.forEach((r,i)=>{
    html+=`
    <tr class="${i===0?"champion":i>=4?"relegation":""}">
      <td>${i+1}</td>
      <td class="teamcell"><img src="${logos[r[0]]}">${r[0]}</td>
      <td>${r[1].P}</td><td>${r[1].W}</td><td>${r[1].D}</td><td>${r[1].L}</td>
      <td>${r[1].GF}</td><td>${r[1].GA}</td><td>${r[1].GF-r[1].GA}</td>
      <td>${r[1].PTS}</td>
      <td class="form">${getForm(r[0]).map(x=>`<span class="${x}">${x}</span>`).join("")}</td>
    </tr>`;
  });
  html+="</table>";
  tableDiv.innerHTML=html;
}

/* ===== NAV ===== */
btnFixtures.onclick=()=>{fixturesDiv.style.display="block";tableDiv.style.display="none";btnFixtures.classList.add("active");btnTable.classList.remove("active");}
btnTable.onclick=()=>{fixturesDiv.style.display="none";tableDiv.style.display="block";btnTable.classList.add("active");btnFixtures.classList.remove("active");}

const fixturesDiv=document.getElementById("fixtures");
const tableDiv=document.getElementById("table");

renderFixtures();renderTable();
</script>

</body>
</html>
