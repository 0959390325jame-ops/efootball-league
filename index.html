<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>eFootball League</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#f2f2f2}
header{background:linear-gradient(90deg,#37003c,#6f1d7a);color:#fff;padding:16px;text-align:center;font-size:22px}
nav{display:flex;background:#fff}
nav button{flex:1;padding:12px;border:none;background:#fff;font-size:16px}
nav button.active{border-bottom:3px solid #37003c;color:#37003c;font-weight:bold}
section{padding:10px}

.match{background:#fff;border-radius:10px;padding:10px;margin-bottom:8px;
display:flex;align-items:center;justify-content:space-between}
.team{display:flex;align-items:center;gap:6px;width:40%}
.team img{width:26px}
.score input{width:40px;text-align:center}
.save{background:#28a745;color:#fff;border:none;padding:6px 12px;border-radius:6px}
.reset{background:#dc3545;color:#fff;border:none;padding:12px;width:100%;border-radius:10px;margin-top:12px}

table{width:100%;border-collapse:collapse;background:#fff;font-size:14px}
th,td{padding:8px;text-align:center;border-bottom:1px solid #ddd}
th{background:#37003c;color:#fff}
.teamcell{display:flex;align-items:center;gap:6px}
.teamcell img{width:22px}
.champion{background:#d4f8d4}
.relegation{background:#ffd6d6}
.controls{display:flex;gap:10px;margin-bottom:10px}
</style>
</head>
<body>

<header>üèÜ eFootball League</header>

<nav>
  <button id="tabFixtures" class="active">Fixtures</button>
  <button id="tabTable">Table</button>
</nav>

<section id="fixtures"></section>
<section id="table" style="display:none"></section>

<script>
/* ===== TEAMS ===== */
const teams=[
"Manchester United",
"AC Milan",
"Atletico Madrid",
"Real Madrid",
"Marseille",
"Paris SG"
];

const logos={
"Manchester United":"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg",
"AC Milan":"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg",
"Atletico Madrid":"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg",
"Real Madrid":"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg",
"Marseille":"https://upload.wikimedia.org/wikipedia/commons/d/d8/Olympique_Marseille_logo.svg",
"Paris SG":"https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg"
};

/* ===== FIXTURES (3 ROUNDS) ===== */
const fixtures=[
["Manchester United","AC Milan"],["Atletico Madrid","Real Madrid"],["Marseille","Paris SG"],
["Manchester United","Atletico Madrid"],["AC Milan","Marseille"],["Real Madrid","Paris SG"],
["Manchester United","Marseille"],["AC Milan","Real Madrid"],["Atletico Madrid","Paris SG"],
["Manchester United","Real Madrid"],["AC Milan","Paris SG"],["Atletico Madrid","Marseille"],
["Manchester United","Paris SG"],["AC Milan","Atletico Madrid"],["Real Madrid","Marseille"],

["AC Milan","Manchester United"],["Real Madrid","Atletico Madrid"],["Paris SG","Marseille"],
["Atletico Madrid","Manchester United"],["Marseille","AC Milan"],["Paris SG","Real Madrid"],
["Marseille","Manchester United"],["Real Madrid","AC Milan"],["Paris SG","Atletico Madrid"],
["Real Madrid","Manchester United"],["Paris SG","AC Milan"],["Marseille","Atletico Madrid"],
["Paris SG","Manchester United"],["Atletico Madrid","AC Milan"],["Marseille","Real Madrid"],

["Manchester United","AC Milan"],["Atletico Madrid","Real Madrid"],["Paris SG","Marseille"],
["AC Milan","Manchester United"],["Real Madrid","Paris SG"],["Marseille","Atletico Madrid"],
["Manchester United","Real Madrid"],["AC Milan","Paris SG"],["Atletico Madrid","Marseille"],
["Manchester United","Paris SG"],["AC Milan","Atletico Madrid"],["Real Madrid","Marseille"]
];

/* ===== STORAGE ===== */
let results = JSON.parse(localStorage.getItem("results")) || {};
let saved = localStorage.getItem("saved")==="yes";

/* ===== FIXTURES PAGE ===== */
function renderFixtures(){
  let html="";
  fixtures.forEach((m,i)=>{
    const key=i;
    const r=results[key]||{};
    html+=`
    <div class="match">
      <div class="team"><img src="${logos[m[0]]}">${m[0]}</div>
      <div class="score">
        <input type="number" min="0" ${saved?"disabled":""} value="${r.h||""}">
        -
        <input type="number" min="0" ${saved?"disabled":""} value="${r.a||""}">
      </div>
      <div class="team"><img src="${logos[m[1]]}">${m[1]}</div>
      ${saved?"":"<button class='save' onclick='saveMatch("+i+")'>Save</button>"}
    </div>`;
  });
  if(!saved){
    html+=`<button class="reset" onclick="resetAll()">Reset All</button>`;
  }
  document.getElementById("fixtures").innerHTML=html;
}

/* ===== SAVE ===== */
function saveMatch(i){
  const box=document.querySelectorAll(".match")[i];
  const inputs=box.querySelectorAll("input");
  if(inputs[0].value===""||inputs[1].value==="")return;
  results[i]={h:+inputs[0].value,a:+inputs[1].value};
  localStorage.setItem("results",JSON.stringify(results));
  if(Object.keys(results).length===fixtures.length){
    saved=true;
    localStorage.setItem("saved","yes");
  }
  renderFixtures();renderTable();
}

/* ===== RESET ===== */
function resetAll(){
  localStorage.clear();
  location.reload();
}

/* ===== TABLE ===== */
function renderTable(){
  let table={};
  teams.forEach(t=>table[t]={P:0,W:0,D:0,L:0,GF:0,GA:0,PTS:0});
  Object.keys(results).forEach(i=>{
    const [h,a]=fixtures[i];
    const r=results[i];
    table[h].P++;table[a].P++;
    table[h].GF+=r.h;table[h].GA+=r.a;
    table[a].GF+=r.a;table[a].GA+=r.h;
    if(r.h>r.a){table[h].W++;table[h].PTS+=3;table[a].L++;}
    else if(r.h<r.a){table[a].W++;table[a].PTS+=3;table[h].L++;}
    else{table[h].D++;table[a].D++;table[h].PTS++;table[a].PTS++;}
  });

  let rows=Object.entries(table).sort((a,b)=>{
    if(b[1].PTS!==a[1].PTS)return b[1].PTS-a[1].PTS;
    return (b[1].GF-b[1].GA)-(a[1].GF-a[1].GA);
  });

  let html=`<table>
  <tr><th>#</th><th>Team</th><th>P</th><th>W</th><th>D</th><th>L</th><th>GF</th><th>GA</th><th>GD</th><th>Pts</th></tr>`;
  rows.forEach((r,i)=>{
    const t=r[1];
    html+=`
    <tr class="${i===0?"champion":i>=4?"relegation":""}">
      <td>${i+1}</td>
      <td class="teamcell"><img src="${logos[r[0]]}">${r[0]}</td>
      <td>${t.P}</td><td>${t.W}</td><td>${t.D}</td><td>${t.L}</td>
      <td>${t.GF}</td><td>${t.GA}</td><td>${t.GF-t.GA}</td><td>${t.PTS}</td>
    </tr>`;
  });
  html+="</table>";
  document.getElementById("table").innerHTML=html;
}

/* ===== NAV ===== */
tabFixtures.onclick=()=>{
  fixturesDiv.style.display="block";
  tableDiv.style.display="none";
  tabFixtures.classList.add("active");
  tabTable.classList.remove("active");
};
tabTable.onclick=()=>{
  fixturesDiv.style.display="none";
  tableDiv.style.display="block";
  tabTable.classList.add("active");
  tabFixtures.classList.remove("active");
};

const fixturesDiv=document.getElementById("fixtures");
const tableDiv=document.getElementById("table");

/* INIT */
renderFixtures();
renderTable();
</script>

</body>
</html>
