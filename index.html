<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eFootball League</title>

<style>
body{margin:0;font-family:sans-serif;background:#f2f2f2}
header{background:linear-gradient(90deg,#4b0066,#7b1fa2);color:#fff;padding:15px;text-align:center;font-size:20px;font-weight:bold}

nav{display:flex;background:#fff}
nav button{flex:1;padding:12px;border:none;background:none;font-size:16px}
nav .active{border-bottom:3px solid #7b1fa2;color:#7b1fa2;font-weight:bold}

.page{display:none;padding:10px}
.page.active{display:block}

/* MATCH */
.match{background:#fff;border-radius:10px;margin-bottom:10px;padding:10px;display:flex;align-items:center;justify-content:space-between}
.team{display:flex;align-items:center;width:40%}
.team img{width:32px;height:32px;margin-right:8px}
.score input{width:35px;font-size:18px;text-align:center}

/* TABLE */
table{width:100%;border-collapse:collapse;background:#fff;font-size:14px}
th{background:#4b0066;color:#fff;padding:6px}
td{padding:6px;text-align:center;border-bottom:1px solid #ddd}
.champ{background:#d4fbe3}
.relegation{background:#ffd6d6}

.btn{width:100%;padding:12px;border:none;border-radius:8px;font-size:16px;margin-top:10px}
.save{background:#4caf50;color:#fff}
.reset{background:#e53935;color:#fff}
</style>
</head>

<body>

<header>üèÜ eFootball League</header>

<nav>
<button class="active" onclick="showPage('program',this)">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</button>
<button onclick="showPage('table',this)">‡∏ï‡∏≤‡∏£‡∏≤‡∏á</button>
</nav>

<!-- PROGRAM -->
<div id="program" class="page active">
<div id="matchList"></div>
<button class="btn save" onclick="saveResults()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•</button>
<button class="btn reset" onclick="resetAll()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
</div>

<!-- TABLE -->
<div id="table" class="page">
<table>
<thead>
<tr>
<th>#</th><th>‡∏ó‡∏µ‡∏°</th><th>P</th><th>W</th><th>D</th><th>L</th>
<th>GF</th><th>GA</th><th>GD</th><th>Pts</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>
</div>

<script>
/* ===== TEAMS ===== */
const teams=[
{name:"Real Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg"},
{name:"Man United",logo:"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg"},
{name:"Marseille",logo:"https://upload.wikimedia.org/wikipedia/en/2/27/Olympique_Marseille_logo.svg"},
{name:"Atletico Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg"},
{name:"AC Milan",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg"},
{name:"PSG",logo:"https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg"}
];

/* ===== TABLE INIT ===== */
let table=JSON.parse(localStorage.getItem("table"))||
teams.map(t=>({
name:t.name,logo:t.logo,
P:0,W:0,D:0,L:0,GF:0,GA:0,GD:0,PTS:0
}));

/* ===== FIXTURE (3 ROUNDS) ===== */
function createFixtures(){
let f=[];

// ‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö
for(let i=0;i<teams.length;i++){
for(let j=i+1;j<teams.length;j++){
f.push({h:teams[i],a:teams[j]});
f.push({h:teams[j],a:teams[i]});
}
}
// ‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 3 ‡∏™‡∏∏‡πà‡∏°
for(let i=0;i<teams.length;i++){
for(let j=i+1;j<teams.length;j++){
Math.random()>0.5
?f.push({h:teams[i],a:teams[j]})
:f.push({h:teams[j],a:teams[i]});
}
}
return f;
}

let fixtures=createFixtures();
fixtures.sort(()=>Math.random()-0.5);
let today=fixtures.slice(0,6);

/* ===== SHOW MATCHES ===== */
const list=document.getElementById("matchList");
today.forEach((m,i)=>{
list.innerHTML+=`
<div class="match">
<div class="team"><img src="${m.h.logo}">${m.h.name}</div>
<div class="score">
<input type="number" id="h${i}"> -
<input type="number" id="a${i}">
</div>
<div class="team"><img src="${m.a.logo}">${m.a.name}</div>
</div>`;
});

/* ===== SAVE RESULT ===== */
function saveResults(){
today.forEach((m,i)=>{
let h=+document.getElementById("h"+i).value;
let a=+document.getElementById("a"+i).value;
if(isNaN(h)||isNaN(a))return;

let home=table.find(t=>t.name==m.h.name);
let away=table.find(t=>t.name==m.a.name);

home.P++; away.P++;
home.GF+=h; home.GA+=a;
away.GF+=a; away.GA+=h;
home.GD=home.GF-home.GA;
away.GD=away.GF-away.GA;

if(h>a){home.W++;home.PTS+=3;away.L++;}
else if(a>h){away.W++;away.PTS+=3;home.L++;}
else{home.D++;away.D++;home.PTS++;away.PTS++;}
});

localStorage.setItem("table",JSON.stringify(table));
renderTable();
alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢");
}

/* ===== TABLE ===== */
function renderTable(){
table.sort((a,b)=>b.PTS-a.PTS||b.GD-a.GD);
const body=document.getElementById("tableBody");
body.innerHTML="";
table.forEach((t,i)=>{
body.innerHTML+=`
<tr class="${i==0?'champ':i>=4?'relegation':''}">
<td>${i+1}</td>
<td><img src="${t.logo}" width="20"> ${t.name}</td>
<td>${t.P}</td><td>${t.W}</td><td>${t.D}</td><td>${t.L}</td>
<td>${t.GF}</td><td>${t.GA}</td><td>${t.GD}</td><td>${t.PTS}</td>
</tr>`;
});
}
renderTable();

/* ===== RESET ===== */
function resetAll(){
if(confirm("‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")){
localStorage.clear();
location.reload();
}
}

function showPage(id,btn){
document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
document.getElementById(id).classList.add("active");
document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
btn.classList.add("active");
}
</script>

</body>
</html>
