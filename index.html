<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>eFootball Premier League</title>

<link rel="icon" href="https://upload.wikimedia.org/wikipedia/en/5/5a/Premier_League_Logo.svg">
<link rel="apple-touch-icon" href="https://upload.wikimedia.org/wikipedia/en/5/5a/Premier_League_Logo.svg">

<style>
body{margin:0;font-family:Arial;background:#f4f4f4}
header{background:#37003c;color:#fff;padding:15px;text-align:center;font-size:20px}

/* ‡πÄ‡∏°‡∏ô‡∏π */
nav{display:flex;justify-content:space-around;background:#fff;border-bottom:3px solid #37003c}
nav button{
 flex:1;padding:12px;border:none;background:#fff;
 font-size:14px;font-weight:bold;color:#37003c
}
nav button.active{border-bottom:4px solid #37003c}

/* layout */
.container{padding:15px}
.page{display:none}
.page.active{display:block}

/* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á */
table{width:100%;border-collapse:collapse;background:#fff}
th,td{padding:8px;text-align:center;border-bottom:1px solid #ddd}
th{background:#37003c;color:#fff}
.team{display:flex;align-items:center;gap:6px}
.team img{width:20px}

.leader{background:#e1bee7;font-weight:bold}
.relegation{background:#ffcdd2}

/* ‡∏ü‡∏≠‡∏£‡πå‡∏° */
.form{display:flex;gap:4px;justify-content:center}
.form span{
 width:16px;height:16px;border-radius:50%;
 font-size:10px;color:#fff;
 display:flex;align-items:center;justify-content:center
}
.W{background:#2e7d32}
.D{background:#f9a825}
.L{background:#c62828}

/* ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° */
.match{
 background:#fff;padding:10px;margin-bottom:10px;
 border-radius:8px;display:flex;
 align-items:center;justify-content:space-between
}
.score input{width:40px;text-align:center}
button.save{
 background:#00c853;color:#fff;border:none;
 padding:6px 10px;border-radius:5px
}
button.save:disabled{background:#aaa}

.reset{
 background:#d50000;color:#fff;border:none;
 padding:8px 12px;border-radius:5px;margin-bottom:15px
}
</style>
</head>

<body>

<header>üèÜ eFootball Premier League</header>

<nav>
 <button class="active" onclick="showPage('table')">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
 <button onclick="showPage('fixtures')">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÅ‡∏Ç‡πà‡∏á</button>
 <button onclick="showPage('stats')">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</button>
</nav>

<div class="container">

<!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô -->
<div id="table" class="page active">
<table>
<thead>
<tr>
<th>#</th><th>‡∏ó‡∏µ‡∏°</th><th>P</th><th>W</th><th>D</th><th>L</th>
<th>GF</th><th>GA</th><th>GD</th><th>Pts</th><th>Form</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>
</div>

<!-- ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° -->
<div id="fixtures" class="page">
<button class="reset" onclick="resetLeague()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•</button>
<div id="fixturesBody"></div>
</div>

<!-- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ -->
<div id="stats" class="page">
<table>
<thead>
<tr><th>#</th><th>‡∏ó‡∏µ‡∏°</th><th>‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏£‡∏ß‡∏°</th></tr>
</thead>
<tbody id="scorerBody"></tbody>
</table>
</div>

</div>

<script>
const teams=[
 {name:"Real Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg"},
 {name:"Manchester United",logo:"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg"},
 {name:"Marseille",logo:"https://upload.wikimedia.org/wikipedia/en/2/27/Olympique_Marseille_logo.svg"},
 {name:"Atletico Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg"},
 {name:"AC Milan",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg"},
 {name:"Paris Saint-Germain",logo:"https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg"}
];

let table = JSON.parse(localStorage.getItem("table")) ||
teams.map(t=>({...t,P:0,W:0,D:0,L:0,GF:0,GA:0,GD:0,PTS:0,form:[]}));

let fixtures=[];
for(let i=0;i<teams.length;i++){
 for(let j=i+1;j<teams.length;j++){
  fixtures.push([i,j]);
  fixtures.push([j,i]);
 }
}

let played = JSON.parse(localStorage.getItem("played")) ||
new Array(fixtures.length).fill(false);

function saveData(){
 localStorage.setItem("table",JSON.stringify(table));
 localStorage.setItem("played",JSON.stringify(played));
}

function renderTable(){
 const body=document.getElementById("tableBody");
 body.innerHTML="";
 table.sort((a,b)=>b.PTS-a.PTS||b.GD-a.GD||b.GF-a.GF);
 table.forEach((t,i)=>{
  let cls=i===0?"leader":i>=table.length-2?"relegation":"";
  body.innerHTML+=`
  <tr class="${cls}">
   <td>${i+1}</td>
   <td class="team"><img src="${t.logo}">${t.name}</td>
   <td>${t.P}</td><td>${t.W}</td><td>${t.D}</td><td>${t.L}</td>
   <td>${t.GF}</td><td>${t.GA}</td><td>${t.GD}</td>
   <td>${t.PTS}</td>
   <td><div class="form">
    ${t.form.slice(-5).map(f=>`<span class="${f}">${f}</span>`).join("")}
   </div></td>
  </tr>`;
 });
}

function renderFixtures(){
 const box=document.getElementById("fixturesBody");
 box.innerHTML="";
 fixtures.forEach((f,i)=>{
  box.innerHTML+=`
  <div class="match">
   <div class="team"><img src="${teams[f[0]].logo}">${teams[f[0]].name}</div>
   <div class="score">
    <input type="number" min="0" id="h${i}" ${played[i]?"disabled":""}> -
    <input type="number" min="0" id="a${i}" ${played[i]?"disabled":""}>
   </div>
   <div class="team">${teams[f[1]].name}<img src="${teams[f[1]].logo}"></div>
   <button class="save" onclick="saveMatch(${i})" ${played[i]?"disabled":""}>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
  </div>`;
 });
}

function renderStats(){
 const body=document.getElementById("scorerBody");
 body.innerHTML="";
 [...table].sort((a,b)=>b.GF-a.GF).forEach((t,i)=>{
  body.innerHTML+=`
  <tr>
   <td>${i+1}</td>
   <td class="team"><img src="${t.logo}">${t.name}</td>
   <td>${t.GF}</td>
  </tr>`;
 });
}

function saveMatch(i){
 if(played[i])return;
 const h=document.getElementById("h"+i).value;
 const a=document.getElementById("a"+i).value;
 if(h===""||a==="")return;

 const home=table[fixtures[i][0]];
 const away=table[fixtures[i][1]];

 home.P++;away.P++;
 home.GF+=+h;home.GA+=+a;
 away.GF+=+a;away.GA+=+h;

 if(h>a){
  home.W++;home.PTS+=3;away.L++;
  home.form.push("W");away.form.push("L");
 }else if(h<a){
  away.W++;away.PTS+=3;home.L++;
  away.form.push("W");home.form.push("L");
 }else{
  home.D++;away.D++;home.PTS++;away.PTS++;
  home.form.push("D");away.form.push("D");
 }

 home.GD=home.GF-home.GA;
 away.GD=away.GF-away.GA;

 played[i]=true;
 saveData();
 renderTable();renderFixtures();renderStats();
}

function showPage(id){
 document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
 document.getElementById(id).classList.add("active");
 document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
 event.target.classList.add("active");
}

function resetLeague(){
 if(!confirm("‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?"))return;
 localStorage.clear();location.reload();
}

renderTable();
renderFixtures();
renderStats();
</script>

</body>
</html>
