<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eFootball League</title>

<style>
body{margin:0;font-family:sans-serif;background:#f2f2f2}
header{background:linear-gradient(90deg,#4b0066,#7b1fa2);color:#fff;padding:15px;text-align:center;font-size:20px;font-weight:bold}
nav{display:flex;background:#fff;border-bottom:2px solid #7b1fa2}
nav button{flex:1;padding:12px;border:none;background:none;font-size:16px}
nav .active{color:#7b1fa2;border-bottom:3px solid #7b1fa2;font-weight:bold}

.page{display:none;padding:10px}
.page.active{display:block}

/* PROGRAM */
.match{background:#fff;border-radius:10px;margin-bottom:10px;padding:10px;display:flex;align-items:center;justify-content:space-between}
.team{display:flex;align-items:center;width:40%}
.team img{width:32px;height:32px;margin-right:8px}
.score input{width:35px;font-size:18px;text-align:center}

/* TABLE */
table{width:100%;border-collapse:collapse;background:#fff}
th{background:#4b0066;color:#fff;padding:8px;font-size:14px}
td{padding:8px;text-align:center;border-bottom:1px solid #ddd}
.champ{background:#d4fbe3}
.relegation{background:#ffd6d6}

.btn{width:100%;padding:12px;border:none;border-radius:8px;font-size:16px;margin-top:10px}
.save{background:#4caf50;color:#fff}
.reset{background:#e53935;color:#fff}
</style>
</head>

<body>

<header>üèÜ eFootball League</header>

<nav>
<button class="active" onclick="showPage('program')">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</button>
<button onclick="showPage('table')">‡∏ï‡∏≤‡∏£‡∏≤‡∏á</button>
</nav>

<!-- PROGRAM PAGE -->
<div id="program" class="page active">
<div id="matchList"></div>
<button class="btn save" onclick="saveResults()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•</button>
<button class="btn reset" onclick="resetAll()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
</div>

<!-- TABLE PAGE -->
<div id="table" class="page">
<table>
<thead>
<tr><th>#</th><th>‡∏ó‡∏µ‡∏°</th><th>P</th><th>GD</th><th>Pts</th></tr>
</thead>
<tbody id="tableBody"></tbody>
</table>
</div>

<script>
/* ===== TEAM DATA ===== */
const teams=[
{name:"Real Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg"},
{name:"Man United",logo:"https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg"},
{name:"Marseille",logo:"https://upload.wikimedia.org/wikipedia/en/2/27/Olympique_Marseille_logo.svg"},
{name:"Atletico Madrid",logo:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg"},
{name:"AC Milan",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d0/Logo_of_AC_Milan.svg"},
{name:"PSG",logo:"https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg"}
];

/* ===== CREATE FIXTURES ===== */
function createFixtures(){
let matches=[];

// ‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö
for(let i=0;i<teams.length;i++){
for(let j=i+1;j<teams.length;j++){
matches.push({home:teams[i],away:teams[j]});
matches.push({home:teams[j],away:teams[i]});
}
}
// ‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 3 ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏´‡∏¢‡πâ‡∏≤‡πÄ‡∏¢‡∏∑‡∏≠‡∏ô
for(let i=0;i<teams.length;i++){
for(let j=i+1;j<teams.length;j++){
Math.random()>0.5
?matches.push({home:teams[i],away:teams[j]})
:matches.push({home:teams[j],away:teams[i]});
}
}
return matches;
}

let fixtures=createFixtures();
fixtures.sort(()=>Math.random()-0.5);

/* ===== SHOW 6 MATCHES ===== */
const todayMatches=fixtures.slice(0,6);
const list=document.getElementById("matchList");

todayMatches.forEach((m,i)=>{
list.innerHTML+=`
<div class="match">
<div class="team"><img src="${m.home.logo}">${m.home.name}</div>
<div class="score">
<input type="number" id="h${i}"> -
<input type="number" id="a${i}">
</div>
<div class="team"><img src="${m.away.logo}">${m.away.name}</div>
</div>`;
});

/* ===== TABLE DATA ===== */
let table=JSON.parse(localStorage.getItem("table"))||
teams.map(t=>({name:t.name,P:0,GD:0,PTS:0}));

function saveResults(){
todayMatches.forEach((m,i)=>{
let h=+document.getElementById("h"+i).value;
let a=+document.getElementById("a"+i).value;
if(isNaN(h)||isNaN(a))return;

let home=table.find(t=>t.name==m.home.name);
let away=table.find(t=>t.name==m.away.name);

home.P++; away.P++;
home.GD+=h-a; away.GD+=a-h;

if(h>a) home.PTS+=3;
else if(a>h) away.PTS+=3;
else {home.PTS++; away.PTS++;}
});

localStorage.setItem("table",JSON.stringify(table));
renderTable();
alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢");
}

function renderTable(){
table.sort((a,b)=>b.PTS-a.PTS||b.GD-a.GD);
const body=document.getElementById("tableBody");
body.innerHTML="";
table.forEach((t,i)=>{
body.innerHTML+=`
<tr class="${i==0?'champ':i>=4?'relegation':''}">
<td>${i+1}</td><td>${t.name}</td><td>${t.P}</td><td>${t.GD}</td><td>${t.PTS}</td>
</tr>`;
});
}
renderTable();

function resetAll(){
if(confirm("‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")){
localStorage.clear();
location.reload();
}
}

function showPage(p){
document.querySelectorAll(".page").forEach(x=>x.classList.remove("active"));
document.getElementById(p).classList.add("active");
document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
event.target.classList.add("active");
}
</script>

</body>
</html>
